{"version":3,"sources":["../../src/icons/close.tsx","../../src/icons/share.tsx","../../src/helpers/cookies.ts","../../src/intl/messages/index.ts","../../src/intl/format.ts","../../src/index.tsx","../../src/helpers/detect.ts","../../src/hooks/useDidMountEffect.ts","App.tsx","index.tsx"],"names":["Close","className","onClick","xmlns","width","height","viewBox","d","Share","fr","en","formatMessage","id","language","navigator","messages","ReactPWAToHomeScreen","name","shouldHide","userAgent","window","test","isIphone","getCookie","document","parts","v","decodeURIComponent","r","React","hidden","setHidden","effect","didMount","useDidMountEffect","expires","Date","days","encodeURIComponent","setCookie","styles","App","ReactDOM","render","getElementById"],"mappings":"kpBAOwBA,K,IAAQC,cAAWC,YACzC,OACE,+BACEC,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,cACRL,UAAWA,EACXC,QAASA,GAET,gCAAMK,EAAE,6NACR,gCAAMA,EAAE,4Q,SCZUC,K,IAAQP,cAC9B,OACE,+BACEE,MAAM,6BACNC,MAAM,KACNC,OAAO,KACPC,QAAQ,oBACRL,UAAWA,GAEX,gCAAMM,EAAE,2PACR,gCAAMA,EAAE,+GChBP,ICGP,EAAe,CACbE,G,mHACAC,G,kGCHWC,EAAgB,SAACC,GAC5B,IAAMC,EAAWC,8BAAjB,GAEA,OAAOC,KAAP,ICIWC,EAAuB,WAClC,IHHwBC,EGGlBC,GCVgB,WACtB,IAAMC,EAAYC,2BAAlB,cAEA,MAAO,SAASC,KAAhB,GDQGC,IADH,UHHwBL,EGIPM,iCHHVC,SAAA,2BAAmC,cACxC,IAAMC,EAAQC,QAAd,KAEA,OAAOD,SAAoBE,mBAAmBF,EAAvCA,IAAPG,IAHF,O,EGI4BC,sBAArBC,OAAQC,QEVF,SAACC,EAAD,GACb,IAAMC,EAAWJ,kBAAjB,GAEAA,qBAAgB,WACVI,EAAJ,QAAsBD,IACjBC,eAFPJ,GFSAK,EAAkB,WAChB,GHfqB,SAACjB,EAAD,KACvB,IAAMkB,EAAU,IAAIC,KAAKA,WAAT,MAAsBC,GAAtC,cAEAb,gBACEP,MAAaqB,mBAAbrB,kBADFO,WGaIe,CAAU,iCAAkC,OAA5CA,MAED,CAJHL,IAQA,OACE,+BACEjC,UACEuC,EAAO,gCAA+BV,EAAS,UAAzC,MAGR,+BAAK7B,UAAWuC,EAAO,kCACrB,+BAAKvC,UAAWuC,EAAO,oCACrB,+BAAKvC,UAAWuC,EAAO,2CACrB,+BAAKvC,UAAWuC,EAAO,kCACpB7B,EAFL,YAIE,+BAAKV,UAAWuC,EAAO,kCACpB7B,EADH,OAEE,2BACEV,UAAWuC,EAAO,wCAEnB7B,EAVP,YAaE,+BAAKV,UAAU,yCACb,2BACEA,UAAWuC,EAAO,sCAClBtC,QAzBe,kBAAM6B,GAAN,WGXdU,G,KAJH,WACV,OAAO,gBAAC,EAAD,QCATC,IAASC,OAAO,kBAAC,EAAD,MAASnB,SAASoB,eAAe,W","file":"static/js/main.26390f8f.chunk.js","sourcesContent":["import * as React from 'react'\n\ninterface Props {\n  className: string\n  onClick: () => void\n}\n\nexport default function Close({ className, onClick }: Props) {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      width='20'\n      height='20'\n      viewBox='0 0 496 496'\n      className={className}\n      onClick={onClick}\n    >\n      <path d='M248 0C111.033 0 0 111.033 0 248s111.033 248 248 248 248-111.033 248-248C495.841 111.099 384.901.159 248 0zm0 480C119.87 480 16 376.13 16 248S119.87 16 248 16s232 103.87 232 232c-.141 128.072-103.928 231.859-232 232z' />\n      <path d='M361.136 134.864a8 8 0 00-11.312 0L248 236.688 146.176 134.864a8 8 0 10-11.312 11.312L236.688 248 134.864 349.824a8 8 0 00-.196 11.312 8 8 0 0011.508 0L248 259.312l101.824 101.824a8 8 0 0011.312-.196 8 8 0 000-11.116L259.312 248l101.824-101.824a8 8 0 000-11.312z' />\n    </svg>\n  )\n}\n","import * as React from 'react'\n\ninterface Props {\n  className: string\n}\n\nexport default function Share({ className }: Props) {\n  return (\n    <svg\n      xmlns='http://www.w3.org/2000/svg'\n      width='20'\n      height='20'\n      viewBox='0 0 551.13 551.13'\n      className={className}\n    >\n      <path d='M465.016 172.228h-51.668v34.446h34.446v310.011H103.337V206.674h34.446v-34.446H86.114c-9.52 0-17.223 7.703-17.223 17.223v344.456c0 9.52 7.703 17.223 17.223 17.223h378.902c9.52 0 17.223-7.703 17.223-17.223V189.451c0-9.52-7.703-17.223-17.223-17.223z' />\n      <path d='M258.342 65.931v244.08h34.446V65.931l73.937 73.937 24.354-24.354L275.565 0 160.051 115.514l24.354 24.354z' />\n    </svg>\n  )\n}\n","export const setCookie = (name: string, value: string, days: number): void => {\n  const expires = new Date(Date.now() + days * 864e5).toUTCString()\n\n  document.cookie =\n    name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/'\n}\n\nexport const getCookie = (name: string): string | null => {\n  return document.cookie.split('; ').reduce((r: string | null, v: string) => {\n    const parts = v.split('=')\n\n    return parts[0] === name ? decodeURIComponent(parts[1]) : r\n  }, null)\n}\n","import fr from './fr.json'\nimport en from './en.json'\n\nexport default {\n  fr: fr,\n  en: en,\n}\n","import messages from './messages'\n\nexport const formatMessage = (id: string) => {\n  const language = navigator.language.split('-')[0]\n\n  return messages[language][id]\n}\n","import * as React from 'react'\nimport useDidMountEffect from './hooks/useDidMountEffect'\nimport styles from './styles.module.css'\nimport CloseIcon from './icons/close'\nimport ShareIcon from './icons/share'\nimport { setCookie, getCookie } from './helpers/cookies'\nimport { isIphone } from './helpers/detect'\nimport { formatMessage } from './intl/format'\n\nexport const ReactPWAToHomeScreen = () => {\n  const shouldHide =\n    !isIphone() || getCookie('react-pwa-to-homescreen-hidden') === 'true'\n  const [hidden, setHidden] = React.useState(shouldHide)\n\n  useDidMountEffect(() => {\n    if (hidden) {\n      setCookie('react-pwa-to-homescreen-hidden', 'true', 30)\n    }\n  }, [hidden])\n\n  const onCloseButtonClick = () => setHidden(true)\n\n  return (\n    <div\n      className={\n        styles[`react-pwa-to-homescreen-root${hidden ? '-hidden' : ''}`]\n      }\n    >\n      <div className={styles['react-pwa-to-homescreen-popup']}>\n        <div className={styles['react-pwa-to-homescreen-wrapper']}>\n          <div className={styles['react-pwa-to-homescreen-labels-wrapper']}>\n            <div className={styles['react-pwa-to-homescreen-label']}>\n              {formatMessage('install')}\n            </div>\n            <div className={styles['react-pwa-to-homescreen-label']}>\n              {formatMessage('tap')}\n              <ShareIcon\n                className={styles['react-pwa-to-homescreen-share-icon']}\n              />\n              {formatMessage('button')}\n            </div>\n          </div>\n          <div className='react-pwa-to-homescreen-close-wrapper'>\n            <CloseIcon\n              className={styles['react-pwa-to-homescreen-close-icon']}\n              onClick={onCloseButtonClick}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export const isIphone = () => {\n  const userAgent = window.navigator.userAgent.toLowerCase()\n\n  return /iphone/.test(userAgent)\n}\n","import * as React from 'react'\n\nexport default (effect: React.EffectCallback, deps?: React.DependencyList) => {\n  const didMount = React.useRef(false)\n\n  React.useEffect(() => {\n    if (didMount.current) effect()\n    else didMount.current = true\n  }, deps)\n}\n","import * as React from 'react'\n\nimport { ReactPWAToHomeScreen } from 'react-pwa-to-homescreen'\nimport 'react-pwa-to-homescreen/dist/index.css'\n\nconst App = () => {\n  return <ReactPWAToHomeScreen />\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}